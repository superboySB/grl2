#!/bin/zsh


algos=(
    "apex-sacdiqn"
    "apex-sacdiqn2"
    "apex-sacdiqn3"
)
envs=(
    "chaser"
    "caveflyer" 
    "climber" 
    "dodgeball" 
    "leaper"
    "starpilot" 
    "jumper" 
    "fruitbot" 
    "heist" 
    "bossfight"
    "plunder" 
)

for e in "${envs[@]}"; do
    for a in "${algos[@]}"; do
        dir="logs/procgen_${e}/${a}"
        mkdir -p $dir
        py_script="train ${a} -e procgen_${e} $@ >& ${dir}/outputs"
        echo $py_script
        eval $py_script
        last_dir=$(ls -td ${dir} | head -n 1)
        mv_script="mv ${dir}/outputs ${last_dir}/outputs"
        echo $mv_script
        eval $mv_script
    done
done